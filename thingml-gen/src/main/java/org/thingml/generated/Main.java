/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated;

import org.thingml.java.*;
import org.thingml.java.ext.*;

import org.thingml.generated.api.*;
import org.thingml.generated.messages.*;

import java.util.*;
public class Main {
//Things
public static T2 T2_myCfg_t2;
public static T1 T1_myCfg_t1;
public static void main(String args[]) {
//Things
T2_myCfg_t2 = (T2) new T2("myCfg_t2: T2").buildBehavior();
T1_myCfg_t1 = (T1) new T1("myCfg_t1: T1").buildBehavior();
//Connectors
T1_myCfg_t1.getP1_port().addListener(T2_myCfg_t2.getP1_port());
T1_myCfg_t1.getP2_port().addListener(T2_myCfg_t2.getP2_port());
//Starting Things
T2_myCfg_t2.init();
T1_myCfg_t1.init();
T2_myCfg_t2.start();
T1_myCfg_t1.start();
Runtime.getRuntime().addShutdownHook(new Thread() {
public void run() {
System.out.println("Terminating ThingML app...");T1_myCfg_t1.stop();
T2_myCfg_t2.stop();
System.out.println("ThingML app terminated. RIP!");}
});

}
}
